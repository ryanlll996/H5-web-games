<template>
    <view class="nav-bar">
        <view class="nav-bar__wrapper">
            <view class="nav-bar__left">
                <view class="nav-bar__left__menu">
                    <svg @click="toHome" width="1.8125rem" height="1.8125rem" viewBox="0 0 58 58" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M56.5299 26.7903L31.3348 1.47032C31.029 1.16222 30.6653 0.917694 30.2645 0.750825C29.8638 0.583957 29.434 0.498047 28.9998 0.498047C28.5657 0.498047 28.1359 0.583957 27.7352 0.750825C27.3344 0.917694 26.9707 1.16222 26.6649 1.47032L21.4648 6.54532C21.4112 6.59772 21.3465 6.6374 21.2755 6.66141C21.2045 6.68542 21.1289 6.69315 21.0545 6.68403C20.9801 6.67491 20.9087 6.64917 20.8456 6.60871C20.7824 6.56826 20.7292 6.51412 20.6898 6.45032C20.3928 6.00845 19.9927 5.64553 19.524 5.3929C19.0554 5.14028 18.5322 5.00553 17.9998 5.00032H12.4999C10.6799 5.00032 9.49985 6.67032 9.49985 8.50032V18.5003L1.46985 26.7903C1.00717 27.254 0.692003 27.8442 0.564004 28.4866C0.436005 29.129 0.5009 29.7949 0.750519 30.4005C1.00014 31.0061 1.42333 31.5244 1.96682 31.89C2.51031 32.2556 3.14982 32.4523 3.80485 32.4553L7.49985 32.5003C7.63246 32.5003 7.75964 32.553 7.8534 32.6468C7.94717 32.7405 7.99985 32.8677 7.99985 33.0003V54.0003C8.01548 54.9075 8.37639 55.7745 9.00904 56.4248C9.6417 57.0751 10.4985 57.4597 11.4049 57.5003H22.2148C24.0348 57.5003 25.4998 55.8303 25.4998 54.0003V42.5003C25.4998 42.3677 25.5525 42.2405 25.6463 42.1468C25.7401 42.053 25.8672 42.0003 25.9998 42.0003H30.9998C31.1325 42.0003 31.2596 42.053 31.3534 42.1468C31.4472 42.2405 31.4998 42.3677 31.4998 42.5003V54.0003C31.4998 55.8303 32.9699 57.5003 34.7899 57.5003H45.5998C46.5057 57.4597 47.362 57.0749 47.9938 56.4244C48.6257 55.774 48.9855 54.907 48.9999 54.0003V44.0003C48.9999 43.4699 48.7891 42.9612 48.4141 42.5861C48.039 42.211 47.5303 42.0003 46.9999 42.0003C46.4694 42.0003 45.9607 42.211 45.5856 42.5861C45.2106 42.9612 44.9999 43.4699 44.9999 44.0003V53.0003C44.9999 53.1329 44.9472 53.2601 44.8534 53.3539C44.7596 53.4476 44.6325 53.5003 44.4999 53.5003H35.9999C35.8672 53.5003 35.7401 53.4476 35.6463 53.3539C35.5525 53.2601 35.4999 53.1329 35.4999 53.0003V41.5003C35.4906 40.5963 35.1358 39.73 34.5083 39.0792C33.8807 38.4284 33.028 38.0424 32.1248 38.0003H24.6598C22.8398 38.0003 21.4998 39.6703 21.4998 41.5003V53.0003C21.4998 53.1329 21.4472 53.2601 21.3534 53.3539C21.2596 53.4476 21.1325 53.5003 20.9998 53.5003H12.4999C12.3672 53.5003 12.2401 53.4476 12.1463 53.3539C12.0525 53.2601 11.9999 53.1329 11.9999 53.0003V32.0003C11.9999 30.1703 10.6048 28.4553 8.77985 28.4553L6.72985 28.4853C6.63011 28.4869 6.53218 28.4586 6.44864 28.4041C6.3651 28.3496 6.29978 28.2713 6.26107 28.1794C6.22236 28.0875 6.21203 27.9861 6.23142 27.8882C6.2508 27.7904 6.29901 27.7005 6.36985 27.6303L12.4999 21.5003C13.1349 20.8219 13.4918 19.9296 13.4999 19.0003V9.50032C13.4999 9.36771 13.5525 9.24053 13.6463 9.14676C13.7401 9.05299 13.8672 9.00032 13.9999 9.00032H17.1148C17.2176 9.00036 17.3179 9.03206 17.402 9.09111C17.486 9.15016 17.5499 9.23368 17.5848 9.33032C17.7314 9.80131 17.9786 10.2348 18.3093 10.6009C18.6399 10.9669 19.0461 11.2567 19.4998 11.4503C20.1034 11.7023 20.7685 11.7684 21.4098 11.6402C22.0512 11.5119 22.6396 11.1951 23.0998 10.7303L28.6448 5.34032C28.7383 5.2487 28.864 5.19739 28.9949 5.19739C29.1257 5.19739 29.2514 5.2487 29.3449 5.34032L51.6449 27.6403C51.7154 27.7103 51.7635 27.7996 51.783 27.897C51.8025 27.9944 51.7926 28.0953 51.7545 28.1871C51.7165 28.2788 51.6519 28.3571 51.5692 28.412C51.4864 28.4669 51.3892 28.4959 51.2899 28.4953H46.9999C46.465 28.483 45.9466 28.6808 45.5559 29.0463C45.1652 29.4118 44.9333 29.9158 44.9099 30.4503C44.929 30.9948 45.1566 31.5111 45.5455 31.8926C45.9345 32.2741 46.4551 32.4917 46.9999 32.5003H53.9999C54.6836 32.4943 55.3516 32.2942 55.9261 31.9233C56.5006 31.5524 56.9579 31.026 57.2449 30.4053C57.496 29.7995 57.5622 29.1329 57.4349 28.4895C57.3077 27.8461 56.9928 27.2549 56.5299 26.7903Z"
                            fill="#212227" />
                    </svg>

                    <!-- <svg @click="$emit('openLeftMenu')" width="1.375rem" height="1.125rem" viewBox="0 0 44 36"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M40.4313 0.792969H3.63438C2.16719 0.792969 0.976562 1.99297 0.976562 3.47891V3.83984C0.976562 5.32109 2.16719 5.54609 3.63438 5.54609H40.4313C41.8984 5.54609 43.0891 5.32578 43.0891 3.83984V3.47891C43.0891 1.99297 41.8984 0.792969 40.4313 0.792969ZM35.5328 15.5539H3.63438C2.16719 15.5539 0.976562 16.7539 0.976562 18.2398V17.6211C0.976562 19.1023 2.16719 20.307 3.63438 20.307H35.5328C37 20.307 38.1906 19.107 38.1906 17.6211V18.2398C38.1906 16.7586 37 15.5539 35.5328 15.5539ZM30.6391 30.3195H3.63906C2.17188 30.3195 0.98125 31.5195 0.98125 33.0055V33.3664C0.98125 34.8477 2.17188 35.0727 3.63906 35.0727H30.6391C32.1063 35.0727 33.2969 34.8523 33.2969 33.3664V33.0008C33.2969 31.5195 32.1063 30.3195 30.6391 30.3195Z"
                            fill="#2565AF" />
                    </svg> -->
                </view>
                <view class="nav-bar__left__logo">


                </view>
            </view>
            <view class="nav-bar__wrapper__center">
                <view class="logo">
                    <svg width="7.22rem" height="1.22rem" viewBox="0 0 231 39" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M0.528409 30V0.90909H19.7898V5.98011H6.67898V12.9119H18.5114V17.983H6.67898V30H0.528409ZM36.4375 20.7102V8.18182H42.4886V30H36.679V26.0369H36.4517C35.9593 27.3153 35.1402 28.3428 33.9943 29.1193C32.858 29.8958 31.4706 30.2841 29.8324 30.2841C28.3741 30.2841 27.0909 29.9527 25.983 29.2898C24.875 28.6269 24.0085 27.6847 23.3835 26.4631C22.768 25.2415 22.4555 23.7784 22.446 22.0739V8.18182H28.4972V20.9943C28.5066 22.2822 28.8523 23.3002 29.5341 24.0483C30.2159 24.7964 31.1297 25.1705 32.2756 25.1705C33.0047 25.1705 33.6866 25.0047 34.321 24.6733C34.9555 24.3324 35.4669 23.8305 35.8551 23.1676C36.2528 22.5047 36.447 21.6856 36.4375 20.7102ZM53.38 17.3864V30H47.3288V8.18182H53.0959V12.0312H53.3516C53.8345 10.7623 54.6442 9.75852 55.7805 9.01989C56.9169 8.27178 58.2947 7.89773 59.9141 7.89773C61.4292 7.89773 62.7502 8.22917 63.8771 8.89205C65.004 9.55492 65.88 10.5019 66.505 11.733C67.13 12.9545 67.4425 14.4129 67.4425 16.108V30H61.3913V17.1875C61.4008 15.8523 61.0599 14.8106 60.3686 14.0625C59.6773 13.3049 58.7256 12.9261 57.5135 12.9261C56.6991 12.9261 55.9794 13.1013 55.3544 13.4517C54.7389 13.8021 54.2559 14.3134 53.9055 14.9858C53.5646 15.6487 53.3894 16.4489 53.38 17.3864ZM78.2628 17.3864V30H72.2116V8.18182H77.9787V12.0312H78.2344C78.7173 10.7623 79.527 9.75852 80.6634 9.01989C81.7997 8.27178 83.1776 7.89773 84.7969 7.89773C86.312 7.89773 87.633 8.22917 88.7599 8.89205C89.8868 9.55492 90.7628 10.5019 91.3878 11.733C92.0128 12.9545 92.3253 14.4129 92.3253 16.108V30H86.2741V17.1875C86.2836 15.8523 85.9427 14.8106 85.2514 14.0625C84.5601 13.3049 83.6084 12.9261 82.3963 12.9261C81.5819 12.9261 80.8622 13.1013 80.2372 13.4517C79.6217 13.8021 79.1387 14.3134 78.7884 14.9858C78.4474 15.6487 78.2723 16.4489 78.2628 17.3864ZM100.049 38.1818C99.282 38.1818 98.5623 38.1203 97.8899 37.9972C97.227 37.8835 96.6778 37.7367 96.2422 37.5568L97.6058 33.0398C98.3161 33.2576 98.9553 33.3759 99.5234 33.3949C100.101 33.4138 100.598 33.2813 101.015 32.9972C101.441 32.7131 101.787 32.2301 102.052 31.5483L102.407 30.625L94.5803 8.18182H100.944L105.461 24.2045H105.688L110.248 8.18182H116.654L108.174 32.358C107.767 33.5322 107.213 34.5549 106.512 35.4261C105.821 36.3068 104.945 36.9839 103.884 37.4574C102.824 37.9403 101.545 38.1818 100.049 38.1818ZM144.903 9.27557C144.79 8.12973 144.302 7.23958 143.44 6.60511C142.579 5.97064 141.409 5.65341 139.932 5.65341C138.928 5.65341 138.08 5.79545 137.389 6.07955C136.698 6.35417 136.168 6.73769 135.798 7.23011C135.438 7.72254 135.259 8.28125 135.259 8.90625C135.24 9.42708 135.348 9.88163 135.585 10.2699C135.831 10.6581 136.168 10.9943 136.594 11.2784C137.02 11.553 137.512 11.7945 138.071 12.0028C138.63 12.2017 139.226 12.3722 139.861 12.5142L142.474 13.1392C143.743 13.4233 144.908 13.8021 145.969 14.2756C147.029 14.7491 147.948 15.3314 148.724 16.0227C149.501 16.714 150.102 17.5284 150.528 18.4659C150.964 19.4034 151.187 20.4782 151.196 21.6903C151.187 23.4706 150.732 25.0142 149.832 26.321C148.942 27.6184 147.654 28.6269 145.969 29.3466C144.293 30.0568 142.271 30.4119 139.903 30.4119C137.555 30.4119 135.509 30.0521 133.767 29.3324C132.034 28.6127 130.68 27.5473 129.705 26.1364C128.739 24.7159 128.232 22.9593 128.185 20.8665H134.136C134.203 21.8419 134.482 22.6562 134.974 23.3097C135.476 23.9536 136.144 24.4413 136.977 24.7727C137.82 25.0947 138.772 25.2557 139.832 25.2557C140.874 25.2557 141.778 25.1042 142.545 24.8011C143.322 24.4981 143.923 24.0767 144.349 23.5369C144.776 22.9972 144.989 22.3769 144.989 21.6761C144.989 21.0227 144.795 20.4735 144.406 20.0284C144.027 19.5833 143.469 19.2045 142.73 18.892C142.001 18.5795 141.106 18.2955 140.045 18.0398L136.878 17.2443C134.425 16.6477 132.489 15.715 131.068 14.446C129.648 13.1771 128.942 11.4678 128.952 9.31818C128.942 7.55682 129.411 6.01799 130.358 4.7017C131.314 3.38542 132.626 2.35795 134.293 1.61932C135.959 0.880681 137.853 0.511363 139.974 0.511363C142.134 0.511363 144.018 0.880681 145.628 1.61932C147.247 2.35795 148.507 3.38542 149.406 4.7017C150.306 6.01799 150.77 7.54261 150.798 9.27557H144.903ZM166.825 8.18182V12.7273H153.685V8.18182H166.825ZM156.668 2.95455H162.719V23.2955C162.719 23.8542 162.805 24.2898 162.975 24.6023C163.146 24.9053 163.382 25.1184 163.685 25.2415C163.998 25.3646 164.358 25.4261 164.765 25.4261C165.049 25.4261 165.333 25.4025 165.617 25.3551C165.901 25.2983 166.119 25.2557 166.271 25.2273L167.222 29.7301C166.919 29.8248 166.493 29.9337 165.944 30.0568C165.395 30.1894 164.727 30.2699 163.941 30.2983C162.483 30.3551 161.204 30.161 160.106 29.7159C159.017 29.2708 158.169 28.5795 157.563 27.642C156.957 26.7045 156.659 25.5208 156.668 24.0909V2.95455ZM180.39 30.4261C178.183 30.4261 176.275 29.9574 174.665 29.0199C173.065 28.0729 171.829 26.7566 170.958 25.071C170.087 23.3759 169.651 21.411 169.651 19.1761C169.651 16.9223 170.087 14.9527 170.958 13.267C171.829 11.572 173.065 10.2557 174.665 9.31818C176.275 8.37121 178.183 7.89773 180.39 7.89773C182.596 7.89773 184.5 8.37121 186.1 9.31818C187.71 10.2557 188.951 11.572 189.822 13.267C190.693 14.9527 191.129 16.9223 191.129 19.1761C191.129 21.411 190.693 23.3759 189.822 25.071C188.951 26.7566 187.71 28.0729 186.1 29.0199C184.5 29.9574 182.596 30.4261 180.39 30.4261ZM180.418 25.7386C181.422 25.7386 182.26 25.4545 182.933 24.8864C183.605 24.3087 184.112 23.5227 184.452 22.5284C184.803 21.5341 184.978 20.4025 184.978 19.1335C184.978 17.8646 184.803 16.733 184.452 15.7386C184.112 14.7443 183.605 13.9583 182.933 13.3807C182.26 12.803 181.422 12.5142 180.418 12.5142C179.405 12.5142 178.553 12.803 177.862 13.3807C177.18 13.9583 176.664 14.7443 176.313 15.7386C175.972 16.733 175.802 17.8646 175.802 19.1335C175.802 20.4025 175.972 21.5341 176.313 22.5284C176.664 23.5227 177.18 24.3087 177.862 24.8864C178.553 25.4545 179.405 25.7386 180.418 25.7386ZM195.063 30V8.18182H200.93V11.9886H201.157C201.555 10.6345 202.222 9.61174 203.16 8.92045C204.097 8.2197 205.177 7.86932 206.398 7.86932C206.701 7.86932 207.028 7.88826 207.379 7.92614C207.729 7.96402 208.037 8.0161 208.302 8.08239V13.4517C208.018 13.3665 207.625 13.2907 207.123 13.2244C206.621 13.1581 206.162 13.125 205.745 13.125C204.855 13.125 204.059 13.3191 203.359 13.7074C202.667 14.0862 202.118 14.6165 201.711 15.2983C201.313 15.9801 201.114 16.7661 201.114 17.6562V30H195.063ZM220.358 30.4261C218.114 30.4261 216.182 29.9716 214.562 29.0625C212.953 28.1439 211.712 26.8466 210.841 25.1705C209.97 23.4848 209.534 21.4915 209.534 19.1903C209.534 16.946 209.97 14.9763 210.841 13.2812C211.712 11.5862 212.938 10.2652 214.52 9.31818C216.111 8.37121 217.976 7.89773 220.116 7.89773C221.556 7.89773 222.896 8.12973 224.136 8.59375C225.386 9.0483 226.475 9.73485 227.403 10.6534C228.341 11.572 229.07 12.7273 229.591 14.1193C230.112 15.5019 230.372 17.1212 230.372 18.9773V20.6392H211.949V16.8892H224.676C224.676 16.018 224.487 15.2462 224.108 14.5739C223.729 13.9015 223.204 13.3759 222.531 12.9972C221.868 12.6089 221.097 12.4148 220.216 12.4148C219.297 12.4148 218.483 12.6278 217.773 13.054C217.072 13.4706 216.523 14.0341 216.125 14.7443C215.727 15.4451 215.524 16.2263 215.514 17.0881V20.6534C215.514 21.733 215.713 22.6657 216.111 23.4517C216.518 24.2377 217.091 24.8438 217.83 25.2699C218.568 25.696 219.444 25.9091 220.457 25.9091C221.13 25.9091 221.745 25.8144 222.304 25.625C222.863 25.4356 223.341 25.1515 223.739 24.7727C224.136 24.3939 224.439 23.9299 224.648 23.3807L230.244 23.75C229.96 25.0947 229.378 26.2689 228.497 27.2727C227.626 28.267 226.499 29.0436 225.116 29.6023C223.743 30.1515 222.157 30.4261 220.358 30.4261Z"
                            fill="#212227" />
                    </svg>
                </view>
            </view>
            <view class="nav-bar__wrapper__right">
                <view class="logo" @click="$emit('openLeftMenu')">
                    <!-- <svg width="1.56rem" height="1.56rem" viewBox="0 0 50 50" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M49.8758 43.7277L41.4108 35.0825C46.9452 26.3959 45.9267 14.7354 38.3419 7.14966C29.5678 -1.6228 15.3495 -1.6228 6.57642 7.14966C-2.19214 15.9202 -2.19214 30.1433 6.57642 38.911C14.3849 46.7187 26.5056 47.57 35.2631 41.4779L43.6037 49.9989L49.8758 43.7277ZM10.863 34.6296C4.45688 28.2248 4.45688 17.8417 10.863 11.4355C17.267 5.03149 27.6535 5.03149 34.0546 11.4355C40.4613 17.8417 40.4613 28.2248 34.0546 34.6296C27.6525 41.0336 17.267 41.0336 10.863 34.6296Z"
                            fill="#2565AF" />
                    </svg> -->
                    <svg width="1.6875rem" height="1.6875rem" viewBox="0 0 54 54" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18.0795 24.7791H3.61953C1.63953 24.7791 0.0195312 23.1591 0.0195312 21.1791V6.71914C0.0195312 4.73914 1.63953 3.11914 3.61953 3.11914H18.1095C20.0895 3.11914 21.7095 4.73914 21.7095 6.71914V21.2091C21.6795 23.1891 20.0895 24.7791 18.0795 24.7791ZM3.61953 6.71914V21.2091H18.1095V6.71914H3.61953ZM39.3495 27.7791C38.3895 27.7791 37.4895 27.4191 36.7995 26.7291L26.5695 16.4991C25.8795 15.8091 25.5195 14.9091 25.5195 13.9491C25.5195 12.9891 25.8795 12.0891 26.5695 11.3991L36.7995 1.16914C37.4895 0.47914 38.3895 0.119141 39.3495 0.119141C40.3095 0.119141 41.2095 0.47914 41.8995 1.16914L52.1295 11.3991C52.8195 12.0891 53.1795 12.9891 53.1795 13.9491C53.1795 14.9091 52.8195 15.8091 52.1295 16.4991L41.8995 26.7291C41.2095 27.4191 40.3095 27.7791 39.3495 27.7791ZM39.3495 3.68914L29.1195 13.9191L39.3495 24.1491L49.5795 13.9191L39.3495 3.68914ZM18.0795 53.2791H3.61953C1.63953 53.2791 0.0195312 51.6591 0.0195312 49.6791V35.1891C0.0195312 33.2091 1.63953 31.5891 3.61953 31.5891H18.1095C20.0895 31.5891 21.7095 33.2091 21.7095 35.1891V49.6791C21.6795 51.6891 20.0895 53.2791 18.0795 53.2791ZM3.61953 35.2191V49.7091H18.1095V35.2191H3.61953ZM46.5795 53.2791H32.0895C30.1095 53.2791 28.4895 51.6591 28.4895 49.6791V35.1891C28.4895 33.2091 30.1095 31.5891 32.0895 31.5891H46.5795C48.5595 31.5891 50.1795 33.2091 50.1795 35.1891V49.6791C50.1795 51.6891 48.5895 53.2791 46.5795 53.2791ZM32.1195 35.2191V49.7091H46.6095V35.2191H32.1195Z"
                            fill="#212227" />
                    </svg>

                </view>
            </view>
        </view>
    </view>
</template>

<script>
import { mapGetters } from "vuex";
export default {
    props: {
        isRefreshing: {
            type: Boolean,
            default: false
        }
    },
    data() {
        return {
            isOpen: false,
            isShow: false
        };
    },
    computed: {
        ...mapGetters(["isLogin", "userInfo", "channelInfo", "currentTheme", 'scoreInfo'])
    },
    methods: {
        refresh() {
            this.$emit("refresh");
        },
        toCharge() {
            this.isOpen = false;
            this.$emit('toBalance')
        },
        toMyScore() {
            this.$store.dispatch("setTab", 4);
            uni.navigateTo({
                url: '/pages/index/index'
            })
        },
        toHome() {
            uni.redirectTo({
                url: '/pages/index/index'
            })
        }
    }

};
</script>

<style lang="scss" scoped>
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.nav-bar {
    background: #fff;
    width: 100%;

    .search {
        width: 100%;
        background-color: #EBF4FF;
        padding: 0.78rem 0.9375rem;

        .search-input {
            background-color: #fff;
            border: 2px solid #2565AF !important;
            padding: 0 !important;
            padding-left: 6px !important;
            height: 2.56rem;
            border-radius: 0.5rem;

            .search-btn {
                background-color: #2565AF;
                height: 2.56rem;
                border-radius: 0.5rem;
                padding: 0.5rem 1.03rem;
                box-sizing: border-box;
            }
        }
    }

    &__wrapper {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 4.25rem;
        padding: 0 0.75rem;

        &__center {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;

            .logo {
                height: 1.4375rem;

                image {
                    height: 100%;
                }
            }
        }

        .nav-bar__left {
            display: flex;
            align-items: center;
            width: 33.3%;
            flex: 1;
            text-overflow: ellipsis;
            overflow: hidden;

            .nav-bar__left__menu {
                display: flex;
                align-items: center;
                margin-right: 0.3125rem;

                .home-icon {
                    margin-left: 0.875rem;
                }

                image {
                    width: 1.5rem;
                    height: 1.53rem;
                }
            }

            .nav-bar__left__logo {
                display: flex;
                align-items: center;

                .logo {
                    margin-right: 0.3125rem;
                    display: flex;
                    align-items: center;

                    image {
                        width: 1.625rem;
                        height: 1.625rem;
                    }
                }

                .text {
                    color: var(--logo-text-color);
                    font-size: 0.875rem;
                    font-weight: bold;
                }
            }
        }

        .nav-bar__wrapper__right {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            position: relative;
            flex: 1;
            .logo {
                margin-left: 0.3125rem;
                height: 2.66rem;
                display: flex;
                align-items: center;

                image {
                    height: 100%;
                }
            }
        }
    }
}
</style>