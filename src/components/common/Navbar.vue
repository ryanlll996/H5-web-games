<template>
    <view class="nav-bar">
        <view class="nav-bar__wrapper">
            <view class="nav-bar__left">
                <view class="nav-bar__left__menu">
                    <svg @click="toHome" width="2rem" height="1.72rem" viewBox="0 0 64 55" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M47.9682 54.9342H42.6252C41.2082 54.9342 39.8491 54.3713 38.8471 53.3693C37.8451 52.3673 37.2822 51.0083 37.2822 49.5912V30.8907H26.5962V49.5912C26.5962 51.0083 26.0332 52.3673 25.0312 53.3693C24.0292 54.3713 22.6702 54.9342 21.2532 54.9342H15.9101C13.7846 54.9342 11.746 54.0898 10.243 52.5868C8.74 51.0838 7.89562 49.0453 7.89562 46.9197V28.2192C7.89562 27.5106 8.17708 26.8311 8.67808 26.3301C9.17909 25.8291 9.8586 25.5476 10.5671 25.5476C11.2757 25.5476 11.9552 25.8291 12.4562 26.3301C12.9572 26.8311 13.2386 27.5106 13.2386 28.2192V46.9197C13.2386 47.6282 13.5201 48.3077 14.0211 48.8087C14.5221 49.3097 15.2016 49.5912 15.9101 49.5912H21.2532V30.8907C21.2532 29.4736 21.8161 28.1146 22.8181 27.1126C23.8201 26.1106 25.1791 25.5476 26.5962 25.5476H37.2822C38.6992 25.5476 40.0583 26.1106 41.0603 27.1126C42.0623 28.1146 42.6252 29.4736 42.6252 30.8907V49.5912H47.9682C48.6767 49.5912 49.3563 49.3097 49.8573 48.8087C50.3583 48.3077 50.6397 47.6282 50.6397 46.9197V28.2192C50.6397 27.5106 50.9212 26.8311 51.4222 26.3301C51.9232 25.8291 52.6027 25.5476 53.3112 25.5476C54.0198 25.5476 54.6993 25.8291 55.2003 26.3301C55.7013 26.8311 55.9827 27.5106 55.9827 28.2192V46.9197C55.9827 49.0453 55.1384 51.0838 53.6353 52.5868C52.1323 54.0898 50.0938 54.9342 47.9682 54.9342ZM63.5698 21.6472C63.9539 21.055 64.088 20.3349 63.9429 19.6441C63.7977 18.9533 63.3851 18.3481 62.7951 17.9606L37.7631 1.71781C36.0325 0.596589 34.0146 0 31.9525 0C29.8905 0 27.8725 0.596589 26.142 1.71781L1.10999 17.9606C0.554958 18.3604 0.174448 18.9579 0.0468768 19.63C-0.0806945 20.302 0.0543935 20.9974 0.424302 21.5728C0.79421 22.1482 1.37075 22.5598 2.03511 22.7228C2.69948 22.8857 3.40104 22.7876 3.99522 22.4487L29.0272 6.20594C29.8939 5.64256 30.9055 5.3427 31.9392 5.3427C32.9729 5.3427 33.9844 5.64256 34.8511 6.20594L59.8831 22.4487C60.4753 22.8328 61.1955 22.9669 61.8863 22.8218C62.5771 22.6766 63.1823 22.2639 63.5698 21.674V21.6472Z"
                            fill="#FE5757" />
                    </svg>
                </view>
                <view class="nav-bar__left__logo">


                </view>
            </view>
            <view class="nav-bar__wrapper__center">
                <view class="logo">
                    <svg width="7.22rem" height="1.22rem" viewBox="0 0 231 39" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M0.528409 30V0.90909H19.7898V5.98011H6.67898V12.9119H18.5114V17.983H6.67898V30H0.528409ZM36.4375 20.7102V8.18182H42.4886V30H36.679V26.0369H36.4517C35.9593 27.3153 35.1402 28.3428 33.9943 29.1193C32.858 29.8958 31.4706 30.2841 29.8324 30.2841C28.3741 30.2841 27.0909 29.9527 25.983 29.2898C24.875 28.6269 24.0085 27.6847 23.3835 26.4631C22.768 25.2415 22.4555 23.7784 22.446 22.0739V8.18182H28.4972V20.9943C28.5066 22.2822 28.8523 23.3002 29.5341 24.0483C30.2159 24.7964 31.1297 25.1705 32.2756 25.1705C33.0047 25.1705 33.6866 25.0047 34.321 24.6733C34.9555 24.3324 35.4669 23.8305 35.8551 23.1676C36.2528 22.5047 36.447 21.6856 36.4375 20.7102ZM53.38 17.3864V30H47.3288V8.18182H53.0959V12.0312H53.3516C53.8345 10.7623 54.6442 9.75852 55.7805 9.01989C56.9169 8.27178 58.2947 7.89773 59.9141 7.89773C61.4292 7.89773 62.7502 8.22917 63.8771 8.89205C65.004 9.55492 65.88 10.5019 66.505 11.733C67.13 12.9545 67.4425 14.4129 67.4425 16.108V30H61.3913V17.1875C61.4008 15.8523 61.0599 14.8106 60.3686 14.0625C59.6773 13.3049 58.7256 12.9261 57.5135 12.9261C56.6991 12.9261 55.9794 13.1013 55.3544 13.4517C54.7389 13.8021 54.2559 14.3134 53.9055 14.9858C53.5646 15.6487 53.3894 16.4489 53.38 17.3864ZM78.2628 17.3864V30H72.2116V8.18182H77.9787V12.0312H78.2344C78.7173 10.7623 79.527 9.75852 80.6634 9.01989C81.7997 8.27178 83.1776 7.89773 84.7969 7.89773C86.312 7.89773 87.633 8.22917 88.7599 8.89205C89.8868 9.55492 90.7628 10.5019 91.3878 11.733C92.0128 12.9545 92.3253 14.4129 92.3253 16.108V30H86.2741V17.1875C86.2836 15.8523 85.9427 14.8106 85.2514 14.0625C84.5601 13.3049 83.6084 12.9261 82.3963 12.9261C81.5819 12.9261 80.8622 13.1013 80.2372 13.4517C79.6217 13.8021 79.1387 14.3134 78.7884 14.9858C78.4474 15.6487 78.2723 16.4489 78.2628 17.3864ZM100.049 38.1818C99.282 38.1818 98.5623 38.1203 97.8899 37.9972C97.227 37.8835 96.6778 37.7367 96.2422 37.5568L97.6058 33.0398C98.3161 33.2576 98.9553 33.3759 99.5234 33.3949C100.101 33.4138 100.598 33.2813 101.015 32.9972C101.441 32.7131 101.787 32.2301 102.052 31.5483L102.407 30.625L94.5803 8.18182H100.944L105.461 24.2045H105.688L110.248 8.18182H116.654L108.174 32.358C107.767 33.5322 107.213 34.5549 106.512 35.4261C105.821 36.3068 104.945 36.9839 103.884 37.4574C102.824 37.9403 101.545 38.1818 100.049 38.1818ZM144.903 9.27557C144.79 8.12973 144.302 7.23958 143.44 6.60511C142.579 5.97064 141.409 5.65341 139.932 5.65341C138.928 5.65341 138.08 5.79545 137.389 6.07955C136.698 6.35417 136.168 6.73769 135.798 7.23011C135.438 7.72254 135.259 8.28125 135.259 8.90625C135.24 9.42708 135.348 9.88163 135.585 10.2699C135.831 10.6581 136.168 10.9943 136.594 11.2784C137.02 11.553 137.512 11.7945 138.071 12.0028C138.63 12.2017 139.226 12.3722 139.861 12.5142L142.474 13.1392C143.743 13.4233 144.908 13.8021 145.969 14.2756C147.029 14.7491 147.948 15.3314 148.724 16.0227C149.501 16.714 150.102 17.5284 150.528 18.4659C150.964 19.4034 151.187 20.4782 151.196 21.6903C151.187 23.4706 150.732 25.0142 149.832 26.321C148.942 27.6184 147.654 28.6269 145.969 29.3466C144.293 30.0568 142.271 30.4119 139.903 30.4119C137.555 30.4119 135.509 30.0521 133.767 29.3324C132.034 28.6127 130.68 27.5473 129.705 26.1364C128.739 24.7159 128.232 22.9593 128.185 20.8665H134.136C134.203 21.8419 134.482 22.6562 134.974 23.3097C135.476 23.9536 136.144 24.4413 136.977 24.7727C137.82 25.0947 138.772 25.2557 139.832 25.2557C140.874 25.2557 141.778 25.1042 142.545 24.8011C143.322 24.4981 143.923 24.0767 144.349 23.5369C144.776 22.9972 144.989 22.3769 144.989 21.6761C144.989 21.0227 144.795 20.4735 144.406 20.0284C144.027 19.5833 143.469 19.2045 142.73 18.892C142.001 18.5795 141.106 18.2955 140.045 18.0398L136.878 17.2443C134.425 16.6477 132.489 15.715 131.068 14.446C129.648 13.1771 128.942 11.4678 128.952 9.31818C128.942 7.55682 129.411 6.01799 130.358 4.7017C131.314 3.38542 132.626 2.35795 134.293 1.61932C135.959 0.880681 137.853 0.511363 139.974 0.511363C142.134 0.511363 144.018 0.880681 145.628 1.61932C147.247 2.35795 148.507 3.38542 149.406 4.7017C150.306 6.01799 150.77 7.54261 150.798 9.27557H144.903ZM166.825 8.18182V12.7273H153.685V8.18182H166.825ZM156.668 2.95455H162.719V23.2955C162.719 23.8542 162.805 24.2898 162.975 24.6023C163.146 24.9053 163.382 25.1184 163.685 25.2415C163.998 25.3646 164.358 25.4261 164.765 25.4261C165.049 25.4261 165.333 25.4025 165.617 25.3551C165.901 25.2983 166.119 25.2557 166.271 25.2273L167.222 29.7301C166.919 29.8248 166.493 29.9337 165.944 30.0568C165.395 30.1894 164.727 30.2699 163.941 30.2983C162.483 30.3551 161.204 30.161 160.106 29.7159C159.017 29.2708 158.169 28.5795 157.563 27.642C156.957 26.7045 156.659 25.5208 156.668 24.0909V2.95455ZM180.39 30.4261C178.183 30.4261 176.275 29.9574 174.665 29.0199C173.065 28.0729 171.829 26.7566 170.958 25.071C170.087 23.3759 169.651 21.411 169.651 19.1761C169.651 16.9223 170.087 14.9527 170.958 13.267C171.829 11.572 173.065 10.2557 174.665 9.31818C176.275 8.37121 178.183 7.89773 180.39 7.89773C182.596 7.89773 184.5 8.37121 186.1 9.31818C187.71 10.2557 188.951 11.572 189.822 13.267C190.693 14.9527 191.129 16.9223 191.129 19.1761C191.129 21.411 190.693 23.3759 189.822 25.071C188.951 26.7566 187.71 28.0729 186.1 29.0199C184.5 29.9574 182.596 30.4261 180.39 30.4261ZM180.418 25.7386C181.422 25.7386 182.26 25.4545 182.933 24.8864C183.605 24.3087 184.112 23.5227 184.452 22.5284C184.803 21.5341 184.978 20.4025 184.978 19.1335C184.978 17.8646 184.803 16.733 184.452 15.7386C184.112 14.7443 183.605 13.9583 182.933 13.3807C182.26 12.803 181.422 12.5142 180.418 12.5142C179.405 12.5142 178.553 12.803 177.862 13.3807C177.18 13.9583 176.664 14.7443 176.313 15.7386C175.972 16.733 175.802 17.8646 175.802 19.1335C175.802 20.4025 175.972 21.5341 176.313 22.5284C176.664 23.5227 177.18 24.3087 177.862 24.8864C178.553 25.4545 179.405 25.7386 180.418 25.7386ZM195.063 30V8.18182H200.93V11.9886H201.157C201.555 10.6345 202.222 9.61174 203.16 8.92045C204.097 8.2197 205.177 7.86932 206.398 7.86932C206.701 7.86932 207.028 7.88826 207.379 7.92614C207.729 7.96402 208.037 8.0161 208.302 8.08239V13.4517C208.018 13.3665 207.625 13.2907 207.123 13.2244C206.621 13.1581 206.162 13.125 205.745 13.125C204.855 13.125 204.059 13.3191 203.359 13.7074C202.667 14.0862 202.118 14.6165 201.711 15.2983C201.313 15.9801 201.114 16.7661 201.114 17.6562V30H195.063ZM220.358 30.4261C218.114 30.4261 216.182 29.9716 214.562 29.0625C212.953 28.1439 211.712 26.8466 210.841 25.1705C209.97 23.4848 209.534 21.4915 209.534 19.1903C209.534 16.946 209.97 14.9763 210.841 13.2812C211.712 11.5862 212.938 10.2652 214.52 9.31818C216.111 8.37121 217.976 7.89773 220.116 7.89773C221.556 7.89773 222.896 8.12973 224.136 8.59375C225.386 9.0483 226.475 9.73485 227.403 10.6534C228.341 11.572 229.07 12.7273 229.591 14.1193C230.112 15.5019 230.372 17.1212 230.372 18.9773V20.6392H211.949V16.8892H224.676C224.676 16.018 224.487 15.2462 224.108 14.5739C223.729 13.9015 223.204 13.3759 222.531 12.9972C221.868 12.6089 221.097 12.4148 220.216 12.4148C219.297 12.4148 218.483 12.6278 217.773 13.054C217.072 13.4706 216.523 14.0341 216.125 14.7443C215.727 15.4451 215.524 16.2263 215.514 17.0881V20.6534C215.514 21.733 215.713 22.6657 216.111 23.4517C216.518 24.2377 217.091 24.8438 217.83 25.2699C218.568 25.696 219.444 25.9091 220.457 25.9091C221.13 25.9091 221.745 25.8144 222.304 25.625C222.863 25.4356 223.341 25.1515 223.739 24.7727C224.136 24.3939 224.439 23.9299 224.648 23.3807L230.244 23.75C229.96 25.0947 229.378 26.2689 228.497 27.2727C227.626 28.267 226.499 29.0436 225.116 29.6023C223.743 30.1515 222.157 30.4261 220.358 30.4261Z"
                            fill="#FE5757" />
                    </svg>
                </view>
            </view>
            <view class="nav-bar__wrapper__right">
                <view class="logo" @click="$emit('openLeftMenu')">
                    <svg width="1.9375rem" height="1.5rem" viewBox="0 0 62 48" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M11.0885 21.6458C16.4219 21.6458 20.6885 17.7347 21.5774 12.7569H61.2219V9.20139H21.5774C20.6885 4.22361 16.4219 0.3125 11.0885 0.3125C5.22188 0.3125 0.421875 5.1125 0.421875 10.9792C0.421875 16.8458 5.22188 21.6458 11.0885 21.6458ZM11.0885 3.86806C14.9997 3.86806 18.1997 7.06806 18.1997 10.9792C18.1997 14.8903 14.9997 18.0903 11.0885 18.0903C7.17743 18.0903 3.97743 14.8903 3.97743 10.9792C3.97743 7.06806 7.17743 3.86806 11.0885 3.86806ZM61.5774 34.6236H54.8219C53.933 29.6458 49.6663 25.7347 44.333 25.7347C38.9997 25.7347 34.733 29.6458 33.8441 34.6236H0.777431V38.1792H34.0219C34.9108 43.1569 39.1774 47.0681 44.5108 47.0681C49.8441 47.0681 54.1108 43.1569 54.9997 38.1792H61.7552V34.6236H61.5774ZM44.333 43.5125C40.4219 43.5125 37.2219 40.3125 37.2219 36.4014C37.2219 32.4903 40.4219 29.2903 44.333 29.2903C48.2441 29.2903 51.4441 32.4903 51.4441 36.4014C51.4441 40.3125 48.2441 43.5125 44.333 43.5125Z"
                            fill="#FE5757" />
                    </svg>
                </view>
            </view>
        </view>
    </view>
</template>

<script>
import { mapGetters } from "vuex";
export default {
    props: {
        isRefreshing: {
            type: Boolean,
            default: false
        }
    },
    data() {
        return {
            isOpen: false,
            isShow: false
        };
    },
    computed: {
        ...mapGetters(["isLogin", "userInfo", "channelInfo", "currentTheme", 'scoreInfo'])
    },
    methods: {
        refresh() {
            this.$emit("refresh");
        },
        toCharge() {
            this.isOpen = false;
            this.$emit('toBalance')
        },
        toMyScore() {
            this.$store.dispatch("setTab", 4);
            uni.navigateTo({
                url: '/pages/index/index'
            })
        },
        toHome() {
            uni.redirectTo({
                url: '/pages/index/index'
            })
        }
    }

};
</script>

<style lang="scss" scoped>
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.nav-bar {
    background: #fff;
    width: 100%;

    .search {
        width: 100%;
        background-color: #EBF4FF;
        padding: 0.78rem 0.9375rem;

        .search-input {
            background-color: #fff;
            border: 2px solid #2565AF !important;
            padding: 0 !important;
            padding-left: 6px !important;
            height: 2.56rem;
            border-radius: 0.5rem;

            .search-btn {
                background-color: #2565AF;
                height: 2.56rem;
                border-radius: 0.5rem;
                padding: 0.5rem 1.03rem;
                box-sizing: border-box;
            }
        }
    }

    &__wrapper {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 4.25rem;
        padding: 0 0.75rem;

        &__center {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;

            .logo {
                height: 1.4375rem;

                image {
                    height: 100%;
                }
            }
        }

        .nav-bar__left {
            display: flex;
            align-items: center;
            width: 33.3%;
            flex: 1;
            text-overflow: ellipsis;
            overflow: hidden;

            .nav-bar__left__menu {
                display: flex;
                align-items: center;
                margin-right: 0.3125rem;

                .home-icon {
                    margin-left: 0.875rem;
                }

                image {
                    width: 1.5rem;
                    height: 1.53rem;
                }
            }

            .nav-bar__left__logo {
                display: flex;
                align-items: center;

                .logo {
                    margin-right: 0.3125rem;
                    display: flex;
                    align-items: center;

                    image {
                        width: 1.625rem;
                        height: 1.625rem;
                    }
                }

                .text {
                    color: var(--logo-text-color);
                    font-size: 0.875rem;
                    font-weight: bold;
                }
            }
        }

        .nav-bar__wrapper__right {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            position: relative;
            flex: 1;

            .logo {
                margin-left: 0.3125rem;
                height: 2.66rem;
                display: flex;
                align-items: center;

                image {
                    height: 100%;
                }
            }
        }
    }
}
</style>